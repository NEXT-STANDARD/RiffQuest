<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RiffQuest BPM æ¤œå‡º - AG03 è‡ªå‹•ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 50px auto;
      padding: 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
    }

    h1 {
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .subtitle {
      text-align: center;
      opacity: 0.9;
      margin-bottom: 40px;
    }

    .container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .step {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }

    .step.active {
      background: rgba(81, 207, 102, 0.3);
      border: 2px solid #51cf66;
    }

    .step.completed {
      background: rgba(81, 207, 102, 0.2);
      opacity: 0.7;
    }

    .step h3 {
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .step-number {
      background: rgba(255, 255, 255, 0.3);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .bpm-display {
      text-align: center;
      font-size: 6em;
      font-weight: bold;
      margin: 40px 0;
      text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
    }

    .status {
      text-align: center;
      padding: 15px;
      border-radius: 10px;
      margin: 20px 0;
      font-weight: bold;
    }

    .status.idle {
      background: rgba(255, 255, 255, 0.2);
    }

    .status.calibrating {
      background: rgba(81, 207, 102, 0.3);
      animation: pulse 2s infinite;
    }

    .status.success {
      background: rgba(81, 207, 102, 0.5);
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    button {
      padding: 15px 40px;
      font-size: 1.1em;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      margin: 10px 0;
    }

    button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-primary {
      background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%);
      color: white;
    }

    .btn-secondary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .metrics {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 15px;
      margin: 20px 0;
    }

    .metric-item {
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
    }

    .metric-label {
      opacity: 0.8;
      font-size: 0.9em;
    }

    .metric-value {
      font-size: 1.8em;
      font-weight: bold;
      margin-top: 5px;
    }

    .waveform {
      width: 100%;
      height: 100px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      margin: 20px 0;
    }

    .result {
      background: rgba(81, 207, 102, 0.2);
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      display: none;
    }

    .result.show {
      display: block;
    }

    .result h3 {
      margin-top: 0;
      color: #51cf66;
    }

    .info {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 10px;
      margin-top: 30px;
    }

    .info h3 {
      margin-top: 0;
    }

    .info ul {
      margin: 10px 0;
      padding-left: 20px;
    }

    .info li {
      margin: 8px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ¸ RiffQuest BPM æ¤œå‡º</h1>
  <p class="subtitle">AG03 è‡ªå‹•ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</p>

  <div class="container">
    <div class="status idle" id="status">
      æº–å‚™å®Œäº† - ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹ã—ã¦ãã ã•ã„
    </div>

    <!-- Step 1: ç„¡éŸ³ç’°å¢ƒã§ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢ã‚’æ¸¬å®š -->
    <div class="step" id="step1">
      <h3>
        <span class="step-number">1</span>
        ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢æ¸¬å®š
      </h3>
      <p>é™ã‹ãªç’°å¢ƒã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒã‚¤ã‚ºã‚’æ¸¬å®šã—ã¾ã™ã€‚</p>
      <button class="btn-primary" id="start-noise-btn">ğŸ“Š ãƒã‚¤ã‚ºæ¸¬å®šé–‹å§‹ (5ç§’)</button>
      <div class="metrics">
        <div class="metric-item">
          <div class="metric-label">ãƒã‚¤ã‚ºãƒ¬ãƒ™ãƒ«</div>
          <div class="metric-value" id="noise-level">---</div>
        </div>
        <div class="metric-item">
          <div class="metric-label">æ¸¬å®šæ™‚é–“</div>
          <div class="metric-value" id="noise-time">0.0s</div>
        </div>
        <div class="metric-item">
          <div class="metric-label">ã‚µãƒ³ãƒ—ãƒ«æ•°</div>
          <div class="metric-value" id="noise-samples">0</div>
        </div>
      </div>
    </div>

    <!-- Step 2: ãƒ¡ãƒˆãƒ­ãƒãƒ¼ãƒ éŸ³ã§ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«ã‚’æ¸¬å®š -->
    <div class="step" id="step2">
      <h3>
        <span class="step-number">2</span>
        ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«æ¸¬å®š
      </h3>
      <p>ãƒ¡ãƒˆãƒ­ãƒãƒ¼ãƒ ï¼ˆ120 BPMï¼‰ã‚’é³´ã‚‰ã—ã¦ã€ä¿¡å·ãƒ¬ãƒ™ãƒ«ã‚’æ¸¬å®šã—ã¾ã™ã€‚</p>
      <button class="btn-primary" id="start-signal-btn" disabled>ğŸµ ã‚·ã‚°ãƒŠãƒ«æ¸¬å®šé–‹å§‹ (10ç§’)</button>
      <canvas id="waveform" class="waveform"></canvas>
      <div class="metrics">
        <div class="metric-item">
          <div class="metric-label">ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«</div>
          <div class="metric-value" id="signal-level">---</div>
        </div>
        <div class="metric-item">
          <div class="metric-label">ãƒ“ãƒ¼ãƒˆæ¤œå‡ºæ•°</div>
          <div class="metric-value" id="beat-count">0</div>
        </div>
        <div class="metric-item">
          <div class="metric-label">SNR</div>
          <div class="metric-value" id="snr">---</div>
        </div>
      </div>
    </div>

    <!-- Step 3: æœ€é©é–¾å€¤ã‚’è¨ˆç®— -->
    <div class="step" id="step3">
      <h3>
        <span class="step-number">3</span>
        é–¾å€¤è¨ˆç®—
      </h3>
      <p>æ¸¬å®šçµæœã‹ã‚‰æœ€é©ãªæ¤œå‡ºé–¾å€¤ã‚’è‡ªå‹•è¨ˆç®—ã—ã¾ã™ã€‚</p>
      <button class="btn-primary" id="calculate-btn" disabled>ğŸ”§ é–¾å€¤ã‚’è¨ˆç®—</button>
    </div>

    <!-- çµæœè¡¨ç¤º -->
    <div class="result" id="result">
      <h3>âœ… ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†</h3>
      <div class="metrics">
        <div class="metric-item">
          <div class="metric-label">æ¨å¥¨é–¾å€¤</div>
          <div class="metric-value" id="recommended-threshold">---</div>
        </div>
        <div class="metric-item">
          <div class="metric-label">ãƒã‚¤ã‚ºãƒãƒ¼ã‚¸ãƒ³</div>
          <div class="metric-value" id="noise-margin">---</div>
        </div>
        <div class="metric-item">
          <div class="metric-label">ä¿¡é ¼åº¦</div>
          <div class="metric-value" id="confidence">---</div>
        </div>
      </div>
      <p style="margin-top: 20px; text-align: center;">
        ã“ã®é–¾å€¤ã‚’ä½¿ã£ã¦ BPM æ¤œå‡ºã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚
      </p>
      <button class="btn-secondary" id="test-btn">ğŸ¸ BPM æ¤œå‡ºã‚’ãƒ†ã‚¹ãƒˆ</button>
    </div>

    <div class="info">
      <h3>ğŸ“ ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹é †</h3>
      <ul>
        <li><strong>Step 1:</strong> é™ã‹ãªç’°å¢ƒã§ã€Œãƒã‚¤ã‚ºæ¸¬å®šé–‹å§‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆ5ç§’é–“ï¼‰</li>
        <li><strong>Step 2:</strong> ãƒ¡ãƒˆãƒ­ãƒãƒ¼ãƒ ï¼ˆ120 BPMï¼‰ã‚’èµ·å‹•ã—ã¦ã€Œã‚·ã‚°ãƒŠãƒ«æ¸¬å®šé–‹å§‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆ10ç§’é–“ï¼‰</li>
        <li><strong>Step 3:</strong> ã€Œé–¾å€¤ã‚’è¨ˆç®—ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æœ€é©å€¤ã‚’è‡ªå‹•ç®—å‡º</li>
        <li><strong>å®Œäº†:</strong> æ¨å¥¨é–¾å€¤ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰è¨­å®šå®Œäº†</li>
      </ul>

      <h3>ğŸ¯ ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä»•çµ„ã¿</h3>
      <ul>
        <li><strong>ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢:</strong> ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒã‚¤ã‚ºã®å¹³å‡ãƒ¬ãƒ™ãƒ«ã‚’æ¸¬å®š</li>
        <li><strong>ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«:</strong> ãƒ¡ãƒˆãƒ­ãƒãƒ¼ãƒ éŸ³ã®ãƒ”ãƒ¼ã‚¯ãƒ¬ãƒ™ãƒ«ã‚’æ¸¬å®š</li>
        <li><strong>SNR (Signal-to-Noise Ratio):</strong> ä¿¡å·å¯¾é›‘éŸ³æ¯”ã‚’è¨ˆç®—</li>
        <li><strong>æœ€é©é–¾å€¤:</strong> ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢ + ãƒãƒ¼ã‚¸ãƒ³ï¼ˆSNRãƒ™ãƒ¼ã‚¹ï¼‰ã§è‡ªå‹•æ±ºå®š</li>
      </ul>

      <h3>âš™ï¸ AG03 æ¨å¥¨è¨­å®š</h3>
      <ul>
        <li>å…¥åŠ›ã‚²ã‚¤ãƒ³: LEDãƒ¡ãƒ¼ã‚¿ãƒ¼ãŒç·‘è‰²ã«ç‚¹ç¯ã™ã‚‹ç¨‹åº¦</li>
        <li>ã‚³ãƒ³ãƒ—ãƒ¬ãƒƒã‚µãƒ¼: OFF</li>
        <li>ãƒ•ã‚¡ãƒ³ã‚¿ãƒ é›»æº: ãƒã‚¤ã‚¯ã«å¿œã˜ã¦è¨­å®š</li>
      </ul>
    </div>
  </div>

  <script>
    let audioContext = null;
    let analyser = null;
    let microphone = null;
    let animationId = null;

    // ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ
    let noiseFloor = 0;
    let signalLevel = 0;
    let recommendedThreshold = 0;

    // UIè¦ç´ 
    const statusEl = document.getElementById('status');
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const step3 = document.getElementById('step3');
    const resultDiv = document.getElementById('result');

    const startNoiseBtn = document.getElementById('start-noise-btn');
    const startSignalBtn = document.getElementById('start-signal-btn');
    const calculateBtn = document.getElementById('calculate-btn');
    const testBtn = document.getElementById('test-btn');

    const noiseLevelEl = document.getElementById('noise-level');
    const noiseTimeEl = document.getElementById('noise-time');
    const noiseSamplesEl = document.getElementById('noise-samples');

    const signalLevelEl = document.getElementById('signal-level');
    const beatCountEl = document.getElementById('beat-count');
    const snrEl = document.getElementById('snr');

    const recommendedThresholdEl = document.getElementById('recommended-threshold');
    const noiseMarginEl = document.getElementById('noise-margin');
    const confidenceEl = document.getElementById('confidence');

    const canvas = document.getElementById('waveform');
    const canvasCtx = canvas.getContext('2d');
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;

    // Step 1: ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢æ¸¬å®š
    startNoiseBtn.addEventListener('click', async () => {
      try {
        step1.classList.add('active');
        statusEl.textContent = 'ğŸ“Š ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢ã‚’æ¸¬å®šä¸­...';
        statusEl.className = 'status calibrating';
        startNoiseBtn.disabled = true;

        const stream = await navigator.mediaDevices.getUserMedia({
          audio: {
            echoCancellation: false,
            noiseSuppression: false,
            autoGainControl: false
          }
        });

        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        analyser = audioContext.createAnalyser();
        analyser.fftSize = 4096;
        analyser.smoothingTimeConstant = 0.3;

        microphone = audioContext.createMediaStreamSource(stream);
        microphone.connect(analyser);

        // 5ç§’é–“ãƒã‚¤ã‚ºã‚’æ¸¬å®š
        const noiseSamples = [];
        const startTime = Date.now();
        const duration = 5000;

        const measureNoise = () => {
          const bufferLength = analyser.frequencyBinCount;
          const dataArray = new Uint8Array(bufferLength);
          analyser.getByteTimeDomainData(dataArray);

          let sum = 0;
          for (let i = 0; i < bufferLength; i++) {
            const normalized = (dataArray[i] - 128) / 128.0;
            sum += normalized * normalized;
          }
          const rms = Math.sqrt(sum / bufferLength);
          noiseSamples.push(rms);

          const elapsed = Date.now() - startTime;
          noiseTimeEl.textContent = (elapsed / 1000).toFixed(1) + 's';
          noiseSamplesEl.textContent = noiseSamples.length;

          if (elapsed < duration) {
            requestAnimationFrame(measureNoise);
          } else {
            // å¹³å‡ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢ã‚’è¨ˆç®—
            noiseFloor = noiseSamples.reduce((a, b) => a + b, 0) / noiseSamples.length;
            noiseLevelEl.textContent = noiseFloor.toFixed(4);

            statusEl.textContent = 'âœ… ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢æ¸¬å®šå®Œäº†';
            statusEl.className = 'status success';

            step1.classList.remove('active');
            step1.classList.add('completed');
            step2.classList.add('active');
            startSignalBtn.disabled = false;
          }
        };

        measureNoise();

      } catch (error) {
        statusEl.textContent = 'ã‚¨ãƒ©ãƒ¼: ' + error.message;
        statusEl.className = 'status idle';
        console.error(error);
      }
    });

    // Step 2: ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«æ¸¬å®š
    startSignalBtn.addEventListener('click', () => {
      statusEl.textContent = 'ğŸµ ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«ã‚’æ¸¬å®šä¸­... (ãƒ¡ãƒˆãƒ­ãƒãƒ¼ãƒ ã‚’é³´ã‚‰ã—ã¦ãã ã•ã„)';
      statusEl.className = 'status calibrating';
      startSignalBtn.disabled = true;

      const signalSamples = [];
      let beatCount = 0;
      let lastBeatTime = 0;
      const MIN_BEAT_INTERVAL = 250;

      const startTime = Date.now();
      const duration = 10000;

      const measureSignal = () => {
        const bufferLength = analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);
        analyser.getByteTimeDomainData(dataArray);

        // æ³¢å½¢æç”»
        canvasCtx.fillStyle = 'rgba(0, 0, 0, 0.2)';
        canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
        canvasCtx.lineWidth = 2;
        canvasCtx.strokeStyle = '#51cf66';
        canvasCtx.beginPath();

        const sliceWidth = canvas.width / bufferLength;
        let x = 0;

        for (let i = 0; i < bufferLength; i++) {
          const v = dataArray[i] / 128.0;
          const y = (v * canvas.height) / 2;
          if (i === 0) {
            canvasCtx.moveTo(x, y);
          } else {
            canvasCtx.lineTo(x, y);
          }
          x += sliceWidth;
        }
        canvasCtx.lineTo(canvas.width, canvas.height / 2);
        canvasCtx.stroke();

        // RMSè¨ˆç®—
        let sum = 0;
        for (let i = 0; i < bufferLength; i++) {
          const normalized = (dataArray[i] - 128) / 128.0;
          sum += normalized * normalized;
        }
        const rms = Math.sqrt(sum / bufferLength);
        signalSamples.push(rms);

        // ãƒ”ãƒ¼ã‚¯æ¤œå‡ºï¼ˆä»®ã®é–¾å€¤ã§ãƒ“ãƒ¼ãƒˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆï¼‰
        const now = Date.now();
        if (rms > noiseFloor * 2 && (now - lastBeatTime) > MIN_BEAT_INTERVAL) {
          beatCount++;
          beatCountEl.textContent = beatCount;
          lastBeatTime = now;
        }

        const elapsed = Date.now() - startTime;

        if (elapsed < duration) {
          requestAnimationFrame(measureSignal);
        } else {
          // ä¸Šä½20%ã®å¹³å‡ã‚’ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«ã¨ã™ã‚‹
          const sortedSamples = [...signalSamples].sort((a, b) => b - a);
          const top20Count = Math.floor(sortedSamples.length * 0.2);
          signalLevel = sortedSamples.slice(0, top20Count).reduce((a, b) => a + b, 0) / top20Count;

          signalLevelEl.textContent = signalLevel.toFixed(4);

          const snr = 20 * Math.log10(signalLevel / noiseFloor);
          snrEl.textContent = snr.toFixed(1) + ' dB';

          statusEl.textContent = 'âœ… ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ«æ¸¬å®šå®Œäº†';
          statusEl.className = 'status success';

          step2.classList.remove('active');
          step2.classList.add('completed');
          step3.classList.add('active');
          calculateBtn.disabled = false;
        }
      };

      measureSignal();
    });

    // Step 3: é–¾å€¤è¨ˆç®—
    calculateBtn.addEventListener('click', () => {
      statusEl.textContent = 'ğŸ”§ æœ€é©é–¾å€¤ã‚’è¨ˆç®—ä¸­...';
      statusEl.className = 'status calibrating';
      calculateBtn.disabled = true;

      // é–¾å€¤ = ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢ + (ã‚·ã‚°ãƒŠãƒ«ãƒ¬ãƒ™ãƒ« - ãƒã‚¤ã‚ºãƒ•ãƒ­ã‚¢) * 0.3
      const margin = (signalLevel - noiseFloor) * 0.3;
      recommendedThreshold = noiseFloor + margin;

      // AG03 ã®å ´åˆã¯æœ€å¤§ 0.03 ã«åˆ¶é™
      if (recommendedThreshold > 0.03) {
        recommendedThreshold = 0.03;
      }

      // æœ€å°å€¤ã¯ 0.005
      if (recommendedThreshold < 0.005) {
        recommendedThreshold = 0.005;
      }

      recommendedThresholdEl.textContent = recommendedThreshold.toFixed(4);
      noiseMarginEl.textContent = (margin / noiseFloor).toFixed(1) + 'x';

      // ä¿¡é ¼åº¦ã‚’è¨ˆç®—ï¼ˆSNRãƒ™ãƒ¼ã‚¹ï¼‰
      const snr = 20 * Math.log10(signalLevel / noiseFloor);
      let confidence = 0;
      if (snr > 20) confidence = 95;
      else if (snr > 15) confidence = 85;
      else if (snr > 10) confidence = 75;
      else if (snr > 5) confidence = 60;
      else confidence = 40;

      confidenceEl.textContent = confidence + '%';

      statusEl.textContent = 'âœ… ã‚­ãƒ£ãƒªãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†ï¼';
      statusEl.className = 'status success';

      step3.classList.remove('active');
      step3.classList.add('completed');
      resultDiv.classList.add('show');

      // AudioContext ã‚’é–‰ã˜ã‚‹
      if (microphone) microphone.disconnect();
      if (audioContext) audioContext.close();
    });

    // ãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³
    testBtn.addEventListener('click', () => {
      // æ¨å¥¨é–¾å€¤ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
      navigator.clipboard.writeText(recommendedThreshold.toFixed(4));
      alert(`æ¨å¥¨é–¾å€¤ ${recommendedThreshold.toFixed(4)} ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸã€‚\n\nbpm-detection-test.html ã‚’é–‹ã„ã¦ã€ã“ã®å€¤ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚`);
    });
  </script>
</body>
</html>
